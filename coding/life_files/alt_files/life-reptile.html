<!DOCTYPE html>
<html>

<head>
    <meta name="description" content="OneZoom Explorer: Tree of Tetrapodal Life">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <!-- style for the four main display elements -->
    <!-- the image-rendering options are supposed to improve speed -->
    
    <style>
        
        /* the popup box hinting at funcationality */
        #hintBox {
            margin-top:4px;
            margin-left:11px;
            margin-right:0px;
            margin-bottom:0px;
            padding:4px;
            position: absolute;
            width: 216px;
            height:20px;
            top: 46px;
            left: 0px;
            background-color: #FFFFFF;
            border-style: solid;
            border-width: 1px;
            border-color: #BBBBBB;
            border-radius:3px;
            overflow: auto;
            display:none;
             text-align: center;
             color: #777777;
             font-weight: bold;
             font: Helvetica;
             

        }
    
    /* the menu section */
    
    #menuBox {
        margin-top:10px;
        margin-left:11px;
        margin-right:0px;
        margin-bottom:0px;
        padding:0px;
        position: absolute;
        width: 224px;
        top: 35px;
        max-height: calc(100% - 76px);
        left: 0px;
        overflow: auto;
        display:none;
    }

    #menuButtons {
        display: block;
        padding:0px;
        margin:0px;
        position: relative;
        width: 100%;
    }
    
    #menuButtons li {
        text-align: center;
        line-height: 20px;
        width: calc(100% - 24px);
        left: 2px;
        border-style: solid;
        border-width: 1px;
        border-color: #BBBBBB;
        background-color: #FFFFFF;
        border-radius:3px;
        display: block;
        position: relative;
        padding-left:10px;
        padding-right:10px;
        padding-top:4px;
        padding-bottom:4px;
        margin-top:5px;
        margin-bottom:0px;
        margin-left:0px;
        margin-right:0px;
        color: #777777;
        font-weight: bold;
        font: Helvetica;
    }
    
    #menuButtons li:hover {
        border-color: #000000;
        color: #000000;
    }

    #menuButtons li a{
        color: #777777;
        font-weight: bold;
        font: Helvetica;
        text-decoration: none;
        cursor: default;
    }
   
   /* the location section */
   
   #locationBox {
       margin-top:15px;
       margin-left:12px;
       margin-right:0px;
       margin-bottom:0px;
       padding:0px;
       position: absolute;
       width: 222px;
       top: 35px;
       max-height: calc(100% - 95px);
       background-color: #FFFFFF;
       left: 0px;
       overflow: auto;
       display:none;
       border-style: solid;
       border-width: 1px;
       border-radius:3px;
       border-color: #BBBBBB;
   }
    
    #locationButtons {
        display: block;
        padding:0px;
        margin:0px;
        position: relative;
        width: 100%;
    }
    
    #locationButtons li {
        text-align: center;
        line-height: 20px;
        width: calc(100% - 24px);
        left: 2px;
        border-top-width: 1px;
        border-top-style: solid;
        border-top-color: #BBBBBB;
        border-bottom-width: 1px;
        border-bottom-style: solid;
        border-bottom-color: #BBBBBB;
        display: block;
        position: relative;
        padding-left:10px;
        padding-right:10px;
        padding-top:4px;
        padding-bottom:4px;
        margin:0px;
        color: #777777;
        font: Helvetica;
    }
    
    #locationButtons canvas {
        width: calc(100% - 4px);
        left: 2px;
        display: block;
        position: relative;
    }
    
    #locationButtons li:hover {
        color: #000000;
        border-top-color: #000000;
        border-bottom-color: #000000;
    }
    
    #locationButtons li a{
        color: #777777;
        font-weight: bold;
        font: Helvetica;
        text-decoration: none;
        cursor: default;
    }
    
    #toploc {
        border-top-width: 0px;
        border-bottom-width: 1px;
        font-weight: bold;
    }
    
    #toploc:hover {
        border-top-color: #BBBBBB;
        border-bottom-color: #BBBBBB;
        color: #777777;
    }
    
    /* search box */
    
    #searchBox {
        margin-top:15px;
        margin-left:12px;
        margin-right:0px;
        margin-bottom:0px;
        padding:0px;
        position: absolute;
        width: 222px;
        top: 35px;
        max-height: calc(100% - 76px);
        background-color: #FFFFFF;
        left: 0px;
        overflow: auto;
        display:none;
        border-style: solid;
        border-width: 1px;
        border-radius:3px;
        border-color: #BBBBBB;
    }
    
    .sbuttons {
        display: block;
        padding:0px;
        margin:0px;
        position: relative;
        width: 100%;
    }
    
    .sbuttons li {
        text-align: center;
        line-height: 20px;
        width: calc(100% - 24px);
        left: 2px;
        border-top-width: 1px;
        border-top-style: solid;
        border-top-color: #BBBBBB;
        border-bottom-width: 1px;
        border-bottom-style: solid;
        border-bottom-color: #BBBBBB;
        display: block;
        position: relative;
        padding-left:10px;
        padding-right:10px;
        padding-top:4px;
        padding-bottom:4px;
        margin:0px;
        color: #777777;
        font: Helvetica;
    }
    
    .sbuttons li:hover {
        color: #000000;
        border-top-color: #000000;
        border-bottom-color: #000000;
    }

    #search_header {
        border-top-width: 0px;
        border-bottom-width: 0px;
        font-family: Helvetica;
        font-weight: bold;
    }

    #search_header:hover {
        border-top-color: #BBBBBB;
        border-bottom-color: #BBBBBB;
        color: #777777;
    }
    
    #popularSpecies {
        display: block;
        padding:0px;
        margin:0px;
        position: relative;
        width: 100%;
    }
    
    #popularSpecies li {
        text-align: center;
        line-height: 20px;
        width: calc(100% - 24px);
        left: 2px;
        border-top-width: 1px;
        border-top-style: solid;
        border-top-color: #BBBBBB;
        border-bottom-width: 1px;
        border-bottom-style: solid;
        border-bottom-color: #BBBBBB;
        display: block;
        position: relative;
        padding-left:10px;
        padding-right:10px;
        padding-top:4px;
        padding-bottom:4px;
        margin:0px;
        color: #777777;
        font: Helvetica;
    }
    
    .popular_header {
        border-top-width: 0px !important;
        margin-top: 7px !important;
        border-bottom-width: 0px !important;
        font-family: Helvetica !important;
        font-weight: bold !important;
    }
    
    .popular_button {
        margin-top: 7px;
        border-top-width: 0px;
        border-bottom-width: 0px;
        font-family: Helvetica;
    }
    
    .popular_button:hover {
        color: #000000 !important;
        border-top-color: #000000 !important;
        border-bottom-color: #000000 !important;
    }
    
    #search_input {
        padding:5px;
        margin:0px;
        border-width: 0px;
        line-height: 20px;
        width: calc(100% - 10px);
        font-size:16px;
        font-family: Helvetica;
        height: 24px;
        color: #000000;
        text-align: center;
        background-color: #E6E6E6;
        

    }
    
    #search_input:focus {
        outline:none;
    }
    
    #search_go {
        text-align: center;
        line-height: 20px;
        width: calc(100% - 24px);
        left: 2px;
        display: block;
        position: relative;
        padding-left:10px;
        padding-right:10px;
        padding-top:4px;
        padding-bottom:4px;
        margin:0px;
        color: #777777;
        font: Helvetica;
    }


/* hint box */
    
   
   

#outerHint {
    display:none;
    padding:0px;
    margin:0px;
    position:absolute;
    width: 238px;
    height:34px;
    top: 44px;
    left: 0px;
}

#dropBox {
    margin-top:4px;
    margin-left:11px;
    margin-right:0px;
    margin-bottom:0px;
    padding:4px;
    position: absolute;
    width: 216px;
    top: 46px;
    max-height: calc(100% - 76px);
    left: 0px;
    background-color: #FFFFFF;
    border-style: solid;
    border-width: 1px;
    border-color: #BBBBBB;
    border-radius:3px;
    overflow: auto;
    display:none;
    text-align: center;
    color: #777777;
    font: Helvetica;
    
}
    
    #outerDrop {
        display:none;
        padding:0px;
        margin:0px;
        position:absolute;
        width: 238px;
        height:34px;
        top: 44px;
        left: 0px;
    }
    
  
  #aboutBoxContainer{
      padding:0;
      margin:0;
      top:0px;
      left:0px;
      position: absolute;
      width: 100%;
      height: 100%;
      display:none;
      user-select:text
      -webkit-touch-callout: text;
      -webkit-user-select: text;
      -khtml-user-select: text;
      -moz-user-select:text;
      -ms-user-select:text;
  }
  
    #outsideAboutBox{
        padding:0;
        margin:0;
        position: absolute;
        width: 100%;
        height: 100%;
               background-color: #000000;
        opacity: 0.75;
        filter: alpha(opacity=75);
        display:block;
        font: Helvetica;
    }
   
    
    #closeButton{
         position: absolute;
         top: 22px;
         right: 10px;
         width: 28px;
         height:28px;
         opacity: 1.00;
         filter: alpha(opacity=100);
         display:block;

    }
    
    #closeButton:hover{
        opacity: 1.00;
        filter: alpha(opacity=100);
    }
    
    #aboutBox {
        
        padding:4px 1em;
        position: absolute;
        top: 60px;
        bottom: 60px;
        left: 10px;
        right: 10px;
        background-color: #FFFFFF;
        border-style: solid;
        border-width: 1px;
        border-color: #BBBBBB;
        border-radius:3px;
        overflow: auto;
        text-align: justify;
        display:block;
    }
    
    
    #aboutBox:hover ~ #closeButton {
        opacity: 0.55;
        filter: alpha(opacity=55);
    }
    
    #aboutBox h2 {
        text-align: center;
    }
    
    #aboutBox .intro {
        font-size: 1.1em
    }
 
    
        #myCanvas
        {
            position:absolute;
            top: 0px;
            right: 0px;
            width: 100%;
            height: 100%;
            image-rendering: optimizeSpeed;
            image-rendering:-o-crisp-edges;
            image-rendering:-webkit-optimize-contrast;
            -ms-interpolation-mode: nearest-neighbor;
        }
    
        #Logo
        {
            position:absolute;
            bottom: 7px;
            right: 7px;
            width: 90px;
            opacity: 0.55;
            filter: alpha(opacity=55);
        }
        #Logo:hover
        {
            opacity: 1.00;
            filter: alpha(opacity=100);
        }
    
        #controlButtons {
            margin: 0px;
            position:absolute;
            left:0px;
            top:0px;
            padding-top:10px;
            padding-left:10px;
            padding-right:0px;
            padding-bottom:0px;

        }
    
        .nonzoomcb {
            position: relative;
            display: inline-block;
            margin: 0.1em;
            padding:0;
        }
    
    .zoomcb {
        position: relative;
        display: inline-block;
        margin: 0.1em;
        padding:0;
    }
    
        li#menuButton, li#locateButton {
            margin-right: 0.75em;
            }
            
        #controlButtons button {
            position: relative;
            display: inline-block;
            background-color: white;
            border-width: 1px;
            border-style: solid;
            border-color: #BBBBBB;
            border-radius:3px;
            width: 28px;
            height:28px;
            padding: 0;
            margin: 0;
        }
    
    #controlButtons button:hover {
        border-color: #000000;

    }

        #controlButtons button img {
            padding:0;
            margin:0;
            width: 100%;
            height: 100%;
            opacity: 0.55;
            filter: alpha(opacity=55);
        }

        #controlButtons button img:hover {
            opacity: 1.0;
            filter: alpha(opacity=100);
        }
    
    .dropdown {
        position: relative;
        display: inline-block;
        margin: 0.1em;
        padding:0;
    }
    
    .dropdown ul {
        background-color: white;
        margin: 0;
        padding:10px;
        position: absolute;
        width:200px;
        left:0px;
        display:none;
    }
    
    .dropdown:hover ul {
        border-style: solid;
        border-width: 1px;
        border-color: #BBBBBB;
        display:block;
    }
    
    
    @media only screen and (max-device-width: 480px) {
       /*mobile specific*/

        #Logo
        {
            width: 50px;
        }
        .zoomcb {
            display: none;
        }
        li#menuButton, li#locateButton {
            margin-right: 0px;c
        }
    }
    
    /* for the about box, especially the 'sources' version */
    
    #aboutBox {
    }
    
    #aboutBox img {
        height: 5em;
        margin-left: 1em;
        float: right;
        background-color: black;
    }
    
    #aboutBox img.rt_edge {
        height: auto;
        float:right; 
        margin-left: 0;
        margin-right:-20px;
        background-color: white;
    }
    

    #aboutBox ul {list-style-type: none}
        
    #aboutBox ul img {
        border: 1px solid grey;
        width: 50px;
        height:50px;
        margin-right: 10px;
        margin-left: -60px;
        float: left;
        border-radius:50%;
        clear:both;
        
    }
    
    #aboutBox ul {
        margin:0;
        padding: 0;
        padding-left: 1em;
    }
    
    #aboutBox h2, li {
        clear:both;
    }
    
    #aboutBox li {
        margin: 0.5em 0;
        margin-left: 50px;
    }
    </style>
    
    

        <title> OneZoom Explorer: Tree of Tetrapodal Life</title>
<!--
        <script src="life_files/analytics.js" async=""></script>
-->
        <script type="text/javascript">
            var data_path_pics_main = "/OneZoom/static/FinalOutputs/pics"+"/";
            var data_path_thumbs_main = "/OneZoom/static/FinalOutputs/pics"+"/";
            var data_logo_path = "life_files/OZ_logo5_grey.png";
            var load_scripts = [
                 {'id':'_Options',  'path':"life_files/Options.js"},
                 {'id':'_tree',    'path':"life_files/test-reptile.js"},
                 {'id':'_Drawing', 'path':"life_files/Drawing.js"},
                 {'id':'_Leafdraw', 'path':"life_files/Leaf_draw.js"},
                 {'id':'_JScode',  'path':"life_files/Core_engine.js"},
                 {'id':'_UI',  'path':"life_files/User_interface.js"},
                                ];
        </script>
        <script type="text/javascript" src="life_files/Life_options.js"></script>

<!--    
<script type="text/javascript" src="life_files/google-analytics.js"></script>
-->
<script type="text/javascript" src="life_files/canvas2svg.js"></script>
<script>
    save_canvas = function(link_target) {
        var dt = myCanvas.toDataURL("image/png");
        /* Change MIME type to trick the browser to download the file instead of displaying it */
        dt = dt.replace(/^data:image\/[^;]*/, 'data:application-x/force-download');
        link_target.setAttribute('download', 'screenshot.png');
        link_target.href = dt;
    }
    
    toggle_signposts = function(link_target) {
        if (link_target.innerHTML == "Turn on signposts") {
            drawsignposts = true;
            link_target.innerHTML = "Turn off signposts";
        } else {
            drawsignposts = false;
            link_target.innerHTML = "Turn on signposts";
        }
    }

    function saveCanvasAsSVG(link_target)
    {
        var bitmap_context = context; //save current context
    //    try {
            context = new C2S(myCanvas.width,myCanvas.height);
            //make a mock canvas context using canvas2svg. We use a C2S namespace for less typing:
            draw2();
            var svg_content = context.getSerializedSvg(true);
            /* Change MIME type to trick the browser to download the file instead of displaying it */
            link_target.setAttribute('download', 'fractal.svg');
            link_target.href = 'data:application-x/force-download;charset=utf-8,' + encodeURIComponent(svg_content);
    
    //    } catch(err) {
    //        alert("You can't save pictures with embedded images unless you enable '-allow-file-access-from-files' in chrome, or equivalent in other browsers. See ")
    //        document.getElementById("saveCanvasLink").removeAttribute("href");
    //    }
        context = bitmap_context; //restore context
    }
</script>

<script src="life_files/Options.js" id="_Options"></script>
<script src="life_files/test-reptile.js" id="_tree"></script>
<script src="life_files/Drawing.js" id="_Drawing"></script>
<script src="life_files/Leaf_draw.js" id="_Leafdraw"></script>
<script src="life_files/Core_engine.js" id="_JScode"></script>
<script src="life_files/User_interface.js" id="_UI"></script>
</head>

<body id="wholebody" onload="init_first(load_scripts, 'init_after_load()');" onresize="special_resize()" style="overflow: hidden ; user-select:none -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select:none; -ms-user-select:none;" unselectable="on">
    
    <!-- main body of document - only four elements -->
    <canvas height="995" width="1821" id="myCanvas">
    </canvas>
    
    <img id="Logo" onmouseover="overLogo()" onmouseout="notOverLogo()" onclick="clickAll()" src="life_files/OZ_logo5_grey3_small.png">
    
    <ol id="controlButtons">
        <!--<li class="dropdown" id="menuButton"><button><img src="life_files/menu.png" onmouseover="overMenu()" onmouseout="soonNotOverMenu()"></button>
            <ul>
                <li><a href="/">Go back to main site</a></li>
                <li><a href="#" onclick="toggle_signposts(this); return false;">Turn off signposts</a></li>
                <li><a href="#" onclick="save_canvas(this);">Save bitmap screenshot</a></li>
                <li><a href="#" onclick="saveCanvasAsSVG(this);">Save vector screenshot</a></li>
            </ul>
        </li>-->
        <li class="nonzoomcb" id="searchButton"><button onmouseover="overSearch()" onmouseout="soonNotOverSearch()"><img src="life_files/search.png"></button></li>
        <li class="nonzoomcb" id="locateButton"><button onmouseover="overLocation()" onmouseout="soonNotOverLocation()"><img src="life_files/locate.png"></button></li>
        <li class="nonzoomcb" id="upButton"><button onclick="Bzoomup()" onmouseover="overUp()" onmouseout="notOver()"><img src="life_files/up.png"></button></li>
        <li class="zoomcb" id="plusButton"><button onclick="BZoomin()" onmouseover="overIn()" onmouseout="notOver()"><img src="life_files/plus.png"></button></li>
        <li class="zoomcb" id="minusButton"><button onclick="CZoomout()" onmouseover="overOut()" onmouseout="notOver()"><img src="life_files/minus.png"></button></li>
    </ol>
    
    <div id="outerHint"></div>
    <div id="hintBox"></div>

    <div id="searchBox" onmouseout="soonNotOverSearch()" onmouseover="overSearch()" onscroll="searchScroll()">
        <ol class="sbuttons">
            <li id="search_header">Search the tree</li>
        </ol>
        <input id="search_input" name="search_input_text" autocomplete="off" onchange="UI_search_enter()" onkeyup="UI_search()" onpaste="UI_search()" type="text">
        <ol class="sbuttons" id="searchButtons">
            <!-- search results will be inserted here by js -->
        </ol>
        <ol id="popularSpecies"><li class="popular_header">Popular places</li></ol>
    </div>


    <div id="locationBox" onmouseout="soonNotOverLocation()" onmouseover="overLocation()">
        <ol id="locationButtons">
        </ol>
    </div>
    
    <div id="menuBox" onmouseout="soonNotOverMenu()" onmouseover="overMenu()">
        <ol id="menuButtons">
            <li onclick="clickHow()">How to use</li>
            <li onclick="clickAbout()">About this tree</li>
            <li onclick="clickData()">Data sources</li>
            <li><a href="http://www.onezoom.org/sponsor">Sponsor a leaf</a></li>
            <!-- <li onClick="form_change()" >Try another shape</li> --> <!-- this works to change shape if we want that feature, I think not on reflection. -->
            <li><a href="http://www.onezoom.org/">Back to home </a></li>
        </ol>
    </div>

    <div id="aboutBoxContainer">
    <div id="outsideAboutBox" onclick="closeBox()"></div>
    <div id="aboutBox"></div>
    <img id="closeButton" onclick="closeBox()" src="life_files/close.png">
    </div>

<!-- OneZoom logo on a canvas, always on bottom right -->

</body>

</html>